:root{
  --size: 200px;         /* ขนาดปุ่ม */
  --ring: 14px;          /* ความหนาวงแหวนไฟ */
  --c1: #00e5ff;         /* สีไฟไฮไลต์ */
  --c2: #00b7ff;         /* สีไฟรอง */
  --bg1:#0066cc;         /* ไล่เฉดพื้นหลังปุ่ม */
  --bg2:#003366;
}

body{
  display:grid; place-items:center; min-height:100vh;
  background:#111; margin:0; font-family:system-ui, Arial, sans-serif;
}

.engine-btn{
  width:var(--size); height:var(--size);
  border-radius:50%; border:none; cursor:pointer; outline:none;
  color:#fff; text-transform:uppercase; text-align:center;
  position:relative; isolation:isolate; /* ให้ pseudo อยู่ใต้ตัวอักษร */
  background: radial-gradient(circle at 45% 35%, #0b71d8 0 20%, transparent 20%),
              radial-gradient(circle at center, var(--bg1) 0%, var(--bg2) 80%);
  box-shadow:
    0 0 28px rgba(0,174,255,.35),
    inset 0 0 24px rgba(0,60,120,.9);
  transition: transform .2s ease, box-shadow .2s ease;
}

/* วงไฟวิ่งรอบนอก */
.engine-btn::before{
  content:"";
  position:absolute; inset:-10px; border-radius:50%;
  background:
    conic-gradient(
      from 0deg,
      transparent 0 35%,
      var(--c2) 35% 52%,
      var(--c1) 52% 60%,
      transparent 60% 100%
    );
  filter: drop-shadow(0 0 8px var(--c1)) drop-shadow(0 0 16px var(--c1));
  animation: spin 2.4s linear infinite;
  /* เจาะให้เหลือแค่ขอบเป็น “วงแหวน” */
  -webkit-mask: radial-gradient(farthest-side, transparent calc(100% - var(--ring)), #000 0);
          mask: radial-gradient(farthest-side, transparent calc(100% - var(--ring)), #000 0);
  z-index:0; /* อยู่ใต้ข้อความ */
}

/* วงไฟชั้นใน (เรืองคงที่) */
.engine-btn::after{
  content:"";
  position:absolute; inset:6px; border-radius:50%;
  box-shadow: inset 0 0 22px rgba(0,196,255,.5);
  z-index:0;
}

.engine-btn .small-text{
  display:block; font-size:14px; letter-spacing:2px; margin:6px 0; opacity:.85;
  text-shadow: 0 0 8px rgba(0,210,255,.9);
  position:relative; z-index:1;
}
.engine-btn .main-text{
  display:block; font-size:28px; font-weight:800; letter-spacing:3px; margin:10px 0 6px;
  text-shadow: 0 0 14px rgba(0,230,255,1);
  position:relative; z-index:1;
}
.engine-btn .big-text{
  display:block; font-size:88px; font-weight:800; letter-spacing:3px; margin:10px 0 6px;
  text-shadow: 0 0 14px rgba(0,230,255,1);
  position:relative; z-index:1;
}
/* เอฟเฟกต์ hover/active */
.engine-btn:hover{
  box-shadow:
    0 0 48px rgba(0,200,255,.55),
    inset 0 0 28px rgba(0,80,160,.95);
}
.engine-btn:active{ transform: scale(.96); }

.engine-btn {
  margin: 20px auto 0 auto; /* auto จะดันปุ่มให้อยู่ตรงกลาง */
  display: block;           /* ต้องเป็น block หรือ flex ถึงจะทำงาน */
}

/* ทำให้ img โปร่งใสชัวร์ */
.icon-img {
  max-width: 200px;
  height: auto;
  margin: 0 auto 10px;
  display: block;
  background: transparent !important;
}

/* ป้องกัน container card/panel ใส่พื้นหลังขาว */
.card, .card-body, .p-4 {
  background-color: transparent !important;
}

/* กัน Bootstrap/CI3 override */
img {
  background: transparent !important;
}


/* ลดการเคลื่อนไหวสำหรับผู้ใช้ที่ตั้งค่าลด motion */
@media (prefers-reduced-motion: reduce){
  .engine-btn::before{ animation: none; }
}

/* keyframes หมุนไฟ */
@keyframes spin{
  to{ transform: rotate(360deg); }
}

/* จัดไอคอน + ปุ่ม ให้ชิดกันสำหรับเคสนี้เท่านั้น */
.stack-tight {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0px;                 /* ระยะห่างระหว่างรูปกับปุ่ม (ปรับได้ 0-8px) */
}

/* ตัด margin เดิมที่ทำให้ห่าง */
.stack-tight .icon-img { margin: 0 !important; }
.stack-tight .engine-btn { margin: 0 !important; }
